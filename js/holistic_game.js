function degree2radian(a){return Math.PI/180*a}function radian2degree(a){return a/(Math.PI/180)}function radian2radian(a){return degree2radian(radian2degree(a)%360)}function QuaternionRotation(a,b,c){var d=new THREE.Quaternion([c.x,c.y,c.z,0]),e=new THREE.Quaternion([-b.x*Math.sin(a/2),-b.y*Math.sin(a/2),-b.z*Math.sin(a/2),Math.cos(a/2)]),f=new THREE.Quaternion([b.x*Math.sin(a/2),b.y*Math.sin(a/2),b.z*Math.sin(a/2),Math.cos(a/2)]),g=(new THREE.Quaternion).multiply(d,e),h=(new THREE.Quaternion).multiply(f,g),i=new THREE.Vector3(h[0],h[1],h[2]);return i}function toColorPart(a){var b=a.toString(16);return 16>a?"0"+b:b}function addFigure(a){for(var b=new String(a).replace(/,/g,"");b!=(b=b.replace(/^(-?\d+)(\d{3})/,"$1,$2")););return b}function getWindowSize(){var a=300,b=300,c=$j("#body_footer").height();c=5;var d=0,e=0,f=Math.floor($j(window).innerWidth()),g=Math.floor($j(window).innerHeight()),h=Math.floor(f-e),i=Math.floor(g-e-d-c);Math.floor(g-e);return h=Math.max(h,a),i=Math.max(i,b),{ow:f,oh:g,w:h,h:i}}function constrain(a,b,c){return b>a?a=b:a>c&&(a=c),a}function constrain2(a,b,c){return b>a?a=c:a>c&&(a=b),a}function maxAbs(a,b){var c=Math.abs(a),d=Math.abs(b),e=Math.max(c,d);return c==e?a:b}function minAbs(a,b){var c=Math.abs(a),d=Math.abs(b),e=Math.min(c,d);return c==e?a:b}function requestAnimationFrame(a){window.setTimeout(a,1e3/30)}function onLoad(){$j(window).on("orientationchange resize",doResize),$container=$j("#canvasFrame"),$j("#rightStage .scroll").perfectScrollbar();var a="";a+='<div style="padding: 10px;">',a+='  <div class="ta_c bold fs_18" style="height: 30px;">パスワードを入力してください</div>',a+="  <div>",a+='    <input id="txtPass" type="text" style="ime-mode: disabled;"></input>',a+='    <button id="btnPass" class="btn_pass"></button>',a+="  </div>",a+="</div>";var b=$j(a);if($j(".btn_data").bind("click",function(a){var b=$j(this),c=b.data("num");$j(".btn_data").each(function(a){$j(this).removeClass("select")}),b.addClass("select"),changeModel(c)}),$j("#lock").bind("click",function(a){unlockCnt>=2||($dialog&&($dialog.close(),$dialog=void 0),$dialog=showDialog(b),$j("#txtPass").focus(),$j("#txtPass").keypress(function(a){return 13==a.which?(checkPass(),!1):void 0}),$j("#btnPass").bind("click",function(a){checkPass()}))}),doResize(),changeModel(0),!Detector.webgl){var c={parent:$j("#msg").get(0)};return void Detector.addGetWebGLMessage(c)}renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(windowSize.w,windowSize.h),renderer.setClearColorHex(0,0),$container.append(renderer.domElement),scene=new THREE.Scene,light=new THREE.AmbientLight(3355443),scene.add(light),light2=new THREE.DirectionalLight(10066329,1),light2.position=new THREE.Vector3(-1,0,1),light2.castShadow=!0,scene.add(light2),camera=new THREE.PerspectiveCamera(20,windowSize.w/windowSize.h,1,2e4),camera.position.x=100,camera.position.y=0,camera.position.z=2e3,camera.lookAt(scene.width/2,scene.height/2),scene.add(camera),rotating=new THREE.Object3D,scene.add(rotating),animate();var d=new THREE.JSONLoader;d.createModel(female03,function(a){modelGeo1=a,model1=createModel(modelGeo1,450),model1.position.set(100,0,0),model1.update=function(){model1.rotation.y-=.02},0==dataNum&&rotating.add(model1)}),d.createModel(male02,function(a){modelGeo2=a,model2=createModel(modelGeo2,450),model2.position.set(100,0,0),model2.update=function(){model2.rotation.y-=.02},1==dataNum&&rotating.add(model2)}),d.createModel(female03,function(a){modelGeo3=a,model3=createModel(modelGeo3,450),model3.position.set(100,0,0),model3.update=function(){model3.rotation.y-=.02},2==dataNum&&rotating.add(model3)}),d.createModel(male02,function(a){modelGeo4=a,model4=createModel(modelGeo4,450),model4.position.set(100,0,0),model4.update=function(){model4.rotation.y-=.02},3==dataNum&&rotating.add(model4)})}function checkPass(){var a=$j("#txtPass").val(),b=!1;0==unlockCnt?"2102"==a&&(unlockCnt++,b=!0):1==unlockCnt&&"5102"==a&&(unlockCnt++,b=!0),b&&($j("#txtPass").val(""),$dialog&&($dialog.close(),$dialog=void 0)),unlockCnt>=1&&($j("#stage2").fadeIn(500),b&&1==unlockCnt&&$j("#rightStage .scroll").animate({scrollTop:$j("#stage2").offset().top},500,"swing")),unlockCnt>=2&&($j("#stage3").fadeIn(500),$j("#lock").fadeOut(500),b&&2==unlockCnt&&$j("#rightStage .scroll").animate({scrollTop:$j("#stage3").offset().top},500,"swing")),$j("#rightStage .scroll").perfectScrollbar("update")}function changeModel(a){if(dataNum!=a){dataNum=a,$j("#no").text(a+1),$j("#age").text(personDatas[a].age).closest("div").css("color",personDatas[a].color),$j("#sex").text(personDatas[a].sex),$j("#stage1").removeClass().addClass("stage").addClass("target"+(a+1)),$j("#stage2").removeClass().addClass("stage").addClass("target"+(a+1)),$j("#stage3").removeClass().addClass("stage").addClass("target"+(a+1));var b=$j("#stage1 .body");b.empty();var c='<table style="color: #FFF; margin: 0px 20px;">';c+="<colgroup>",c+='<col width="180">',c+='<col width="*">',c+="</colgroup>";for(var d=0,e=personDatas[a].stage1.length;e>d;d++)c+="<tr>"+personDatas[a].stage1[d]+"</tr>";c+="</table>",b.append(c);var f=$j("#stage2 .body");f.empty();for(var g='<table style="color: #FFF;  margin: 0px 20px;">',d=0,e=personDatas[a].stage2.length;e>d;d++)g+="<tr>"+personDatas[a].stage2[d]+"</tr>";g+="</table>",f.append(g);var h=$j("#stage3 .body");h.empty();for(var i='<table style="color: #FFF;  margin: 0px 20px;">',d=0,e=personDatas[a].stage3.length;e>d;d++)i+="<tr>"+personDatas[a].stage3[d]+"</tr>";if(i+="</table>",h.append(i),$j("#stage1").fadeIn(500),rotating){model1&&rotating.remove(model1),model2&&rotating.remove(model2),model3&&rotating.remove(model3),model4&&rotating.remove(model4);var j=void 0;j=1==dataNum?model2:2==dataNum?model3:3==dataNum?model4:model1,j.rotation.y=0,rotating.add(j),j=void 0}$j("#rightStage .scroll").perfectScrollbar("update")}}function animate(){requestAnimationFrame(animate),loop(),render()}function doResize(){var a=$j("#main");windowSize={w:Math.max(300,.4*a.width()),h:a.height()},renderer&&renderer.setSize(windowSize.w,windowSize.h),camera&&(camera.aspect=windowSize.w/windowSize.h,camera.updateProjectionMatrix()),$container&&$container.css({width:windowSize.w,height:windowSize.h}),$dialog&&$dialog.doResize()}function createModel(a,b){var c=new THREE.Mesh(a,new THREE.MeshFaceMaterial);return c.scale.x=c.scale.y=c.scale.z=b,c}function render(){renderer.clear(),renderer.render(scene,camera)}function loop(){rotating&&(rotationY-=.02,rotating.traverse(function(a){void 0!=a.update&&a.update()}))}function showDialog(a,b){var c=$j('<div class="dialog_body" style="opacity: 1; display: none;"></div>'),d=$j('<div class="dialog" style="margin: 0px;"></div>'),e=$j('<div class="dialog_close"></div>'),f=$j('<div class="dialog_contents"></div>');return void 0!=a&&f.append(a),c.bind("click",function(a){a.target==this&&d.close()}),e.click(function(a){d.close()}),d.append(e),d.append(f),c.append(d),$j("#main").append(c),d.close=function(){c.css({opacity:0}).remove()},d.doResize=function(){void 0!=b&&"function"==typeof b&&b(d),centerPopup(d)},c.css({opacity:1}).show(),d.doResize(),d}function centerPopup(a){var b=$j(window),c=b.height(),d=b.scrollTop();a.css({margin:"0px"});var e=a.outerWidth(!0),f=a.outerHeight(!0);a.css({top:.5*c+d+"px",marginTop:.5*-f+"px",marginLeft:.5*-e+"px"})}THREE.Curve.Utils.createLineGeometry=function(a){for(var b=new THREE.Geometry,c=0;c<a.length;c++)b.vertices.push(a[c]);return b};var unlockCnt=0,model1=void 0,modelGeo1=void 0,model2=void 0,modelGeo2=void 0,model3=void 0,modelGeo3=void 0,model4=void 0,modelGeo4=void 0,renderer,scene,camera,light,light2,windowSize={w:1024,h:600},$container=void 0,$dialog=void 0,rotating=void 0,dataNum=-1,rotationY=0,personDatas=[{age:"20代",sex:"女性",color:"#FF69B4",stage1:['<td class="tl ipc">7/3 / Mon / 7:30</td><td class="tr">http://cookpad.com</td>','<td class="tl ipc">7/3 / Mon / 15:10</td><td class="tr">ダイエット　短期間</td>','<td class="tl isp">7/3 / Mon / 12:19</td><td class="tr">https://4meee.com/articles/tag/love</td>','<td class="tl isp">7/4 / Tue / 12:40</td><td class="tr">誕生日　プレゼント</td>','<td class="tl isp">7/4 / Tue / 12:22</td><td class="tr">ヴィトン　ネクタイ</td>','<td class="tl ipc">7/5 / Wed / 11:00</td><td class="tr">http://ameblo.jp/saeko-doll/</td>','<td class="tl isp">7/6 / Thu / 12:01</td><td class="tr">ネイル　当日予約</td>','<td class="tl ipc">7/6 / Thu / 15:57</td><td class="tr">晩ごはん</td>','<td class="tl isp">7/7 / Fri / 8:42 </td><td class="tr">毒女まとめ</td>','<td class="tl isp">7/7 / Fri / 12:00</td><td class="tr">誕生日　プレゼント</td>','<td class="tl isp">7/8 / Sat / 10:02</td><td class="tr">代官山　オススメ　ランチ</td>','<td class="tl isp">7/9 / Sun / 11:16</td><td class="tr">六本木ヒルズ　映画　スケジュール</td>'],stage2:['<td class="tl ishop">7/3 / Mon / 8:20</td><td class="tr">MACHI　CAFÉ　coffee（LAWSON）</td>','<td class="tl ishop">7/5 / Wed / 13:02</td><td class="tr">ガルボ（LAWSON）</td>','<td class="tl ishop">7/5 / Wed / 17:06</td><td class="tr">合いびきミンチ、玉ねぎ、大葉、たまご、パン粉、サラダ油、大根おろし、トマト（マルエツ）</td>','<td class="tl ishop">7/6 / Thu / 20:30</td><td class="tr">ネイルサロンJEWEL</td>','<td class="tl ishop">7/8 / Sat / 14:00</td><td class="tr">代官山ASO</td>','<td class="tl ishop">7/8 / Sat / 17:11</td><td class="tr">ドラマ：デスパレートな妻たち（TSUTAYAレンタル）</td>','<td class="tl ishop">7/9 / Sun / 12:28</td><td class="tr">バーガーサンドONEBOX、ポップコーンM、フィッシュ&チップスセット、烏龍茶×2（TOHOシネマズ）</td>','<td class="tl ishop">7/9 / Sun / 15:35</td><td class="tr">リップグロス　ブレスケア（LAWSON）</td>','<td class="tl ishop">7/9 / Sun / 22:30</td><td class="tr">じゃがいも　牛肉　人参　玉ねぎ　シュークリーム　エクレア(西友)</td>'],stage3:['<td class="tl irel">7/10 / Mon / 7:50</td> <td class="tr">セブン-イレブン三軒茶屋店</td>','<td class="tl irel">7/10 / Mon / 13:00</td><td class="tr">渋谷マークシティ</td>','<td class="tl irel">7/12 / Wed / 14:00</td><td class="tr">汐留さくらビル</td>','<td class="tl irel">7/12 / Wed / 16:00</td><td class="tr">渋谷マークシティ</td>','<td class="tl irel">7/12 / Wed / 21:30</td><td class="tr">三軒茶屋　駅付近</td>','<td class="tl irel">7/15 / Sat / 8:00</td> <td class="tr">三軒茶屋　駅付近</td>','<td class="tl irel">7/15 / Sat / 13:00</td><td class="tr">FPスクール渋谷</td>','<td class="tl irel">7/15 / Sat / 20:00</td><td class="tr">六本木周辺</td>','<td class="tl irel">7/16 / Sun / 13:35</td><td class="tr">キャリアカレッジ渋谷</td>','<td class="tl irel">7/16 / Sun / 22:10</td><td class="tr">ガスト　三軒茶屋店</td>']},{age:"30代",sex:"男性",color:"#00FF00",stage1:['<td class="tl isp">7/3 / Mon / 7:45</td><td class="tr">http://www.nikkei.com/</td>','<td class="tl isp">7/3 / Mon / 22:18</td><td class="tr">渋谷で働く社長のアメブロ</td>','<td class="tl isp">7/4 / Tue / 8:12</td><td class="tr">http://blog.keinishikori.com/</td>','<td class="tl ipc">7/4 / Tue / 18:45</td><td class="tr">日本酒　おいしい店</td>','<td class="tl isp">7/5 / Wed / 7:58</td><td class="tr">http://markezine.jp/</td>','<td class="tl ipc">7/5 / Wed / 14:38</td><td class="tr">接待　六本木　個室</td>','<td class="tl isp">7/5 / Wed / 23:38</td><td class="tr">アルマーニ　スーツ</td>','<td class="tl isp">7/6 / Thu / 12：55</td><td class="tr">ゴルフ場　関東</td>','<td class="tl isp">7/7 / Fri / 17:20</td><td class="tr">肩こり　解消法</td>','<td class="tl isp">7/9 / Sun / 14:00</td><td class="tr">時計　ROLEX　アンティーク</td>'],stage2:['<td class="tl ishop">7/3 / Mon / 7:35</td><td class="tr">おにぎり　ミンティア　BOSS（LAWSON）</td>','<td class="tl ishop">7/5 / Wed / 1:40</td><td class="tr">東急タクシー</td>','<td class="tl ishop">7/5 / Wed / 15:40</td><td class="tr">アイスコーヒーM（StarbucksCoffee）</td>','<td class="tl ishop">7/5 / Wed / 16:20</td><td class="tr">雑誌：GQ JAPAN（あおい書店）</td>','<td class="tl ishop">7/5 / Wed / 23:40</td><td class="tr">西麻布 万葉亭</td>','<td class="tl ishop">7/6 / Thu / 0:15</td><td class="tr">東急タクシー</td>','<td class="tl ishop">7/8 / Sat / 11:20</td><td class="tr">シャツ×2（青空クリーニング）</td>','<td class="tl ishop">7/8 / Sat / 17:05</td><td class="tr">Amazon　バスクリン</td>','<td class="tl ishop">7/9 / Sun / 12:20</td><td class="tr">コミックス：12点（TSUTAYA）</td>','<td class="tl ishop">7/9 / Sun / 19:30</td><td class="tr">ポカリスエット（LAWSON)</td>'],stage3:['<td class="tl irel">7/10 / Mon / 7:00</td><td class="tr">吉祥寺駅　周辺</td>','<td class="tl irel">7/10 / Mon / 13:00</td><td class="tr">六本木ヒルズ</td>','<td class="tl irel">7/12 / Wed / 14:00</td><td class="tr">渋谷駅周辺</td>','<td class="tl irel">7/12 / Wed / 16:00</td><td class="tr">六本木駅　周辺</td>','<td class="tl irel">7/12 / Wed / 22:30</td><td class="tr">銀座割烹</td>','<td class="tl irel">7/15 / Sat / 8:00</td><td class="tr">吉祥寺</td>','<td class="tl irel">7/15 / Sat / 13:00</td><td class="tr">吉祥寺</td>','<td class="tl irel">7/15 / Sat / 20:00</td><td class="tr">吉祥寺</td>','<td class="tl irel">7/16 / Sun / 13:35</td><td class="tr">井の頭公園</td>','<td class="tl irel">7/16 / Sun / 22:30</td><td class="tr">マンガ喫茶ポパイ 吉祥寺店</td>']},{age:"40代",sex:"女性",color:"#FFFF00",stage1:['<td class="tl isp">7/3 / Mon / 12:18</td><td class="tr">体にいい晩御飯</td>','<td class="tl ipc">7/4 / Tue / 16:14</td><td class="tr">絵本　おすすめ</td>','<td class="tl ipc">7/4 / Tue / 19:05</td><td class="tr">Amazon　掃除グッズ</td>','<td class="tl ipc">7/4 / Tue / 19:35</td><td class="tr">靴磨き　セット</td>','<td class="tl ipc">7/5 / Wed / 11:40</td><td class="tr">ユニクロ　カーディガン</td>','<td class="tl ipc">7/5 / Wed / 18:28</td><td class="tr">http://cookpad.com/search/健康料理</td>','<td class="tl isp">7/6 / Thu / 13:18</td><td class="tr">簡単晩御飯</td>','<td class="tl isp">7/7 / Fri / 12:39</td><td class="tr">大人メイク　40代</td>','<td class="tl ipc">7/8 / Sat / 11:18</td><td class="tr">激落ちくん</td>','<td class="tl isp">7/8 / Sat / 22:14</td><td class="tr">野菜料理　レシピ</td>','<td class="tl ipc">7/9 / Sun / 9:30</td><td class="tr">フラワーアレンジメント　教室</td>'],stage2:['<td class="tl ishop">7/3 / Mon / 19:18</td><td class="tr">里芋　人参　ホウレンソウ　こんにゃく（マルエツ）</td>','<td class="tl ishop">7/3 / Mon / 19:30</td><td class="tr">文庫：一週間で女性を磨く本（文教堂）</td>','<td class="tl ishop">7/4 / Tue / 20:21</td><td class="tr">ドラマ：チャングムの誓い（TSUTAYAレンタル）</td>','<td class="tl ishop">7/5 / Wed / 12:18</td><td class="tr">絵本　手帳（ジュンク堂書店）</td>','<td class="tl ishop">7/6 / Thu / 19:52</td><td class="tr">鯖　白ネギ　味噌　生姜　豚肉　みりん（マルエツ）</td>','<td class="tl ishop">7/7 / Fri / 21:17</td><td class="tr">めぐリズム（マツモトキヨシ）</td>','<td class="tl ishop">7/8 / Sat / 10:08</td><td class="tr">ペットフード（Amazon）</td>','<td class="tl ishop">7/8 / Sat / 14:18</td><td class="tr">素麺　めんつゆ　鰹節　トマト（マルエツ）</td>','<td class="tl ishop">7/9 / Sun / 18:10</td><td class="tr">リキッドファンデーション　口紅　マスカラ（東急百貨店）</td>','<td class="tl ishop">7/9 / Sun / 19:29</td><td class="tr">ビール×4（マルエツ）</td>'],stage3:['<td class="tl irel">7/10 / Mon / 7:00</td><td class="tr">青山一丁目　駅周辺</td>','<td class="tl irel">7/10 / Mon / 13:00</td><td class="tr">三越銀座</td>','<td class="tl irel">7/11 / Tue / 14:00</td><td class="tr">銀座　駅付近</td>','<td class="tl irel">7/12 / Wed / 16:00</td><td class="tr">銀座　駅付近</td>','<td class="tl irel">7/12 / Wed / 20:30</td><td class="tr">もつ鍋 やましょう人形町店</td>','<td class="tl irel">7/13 / Thu / 8:00</td><td class="tr">青山一丁目　駅周辺</td>','<td class="tl irel">7/15 / Sat / 9:30</td><td class="tr">皇居付近</td>','<td class="tl irel">7/15 / Sat / 20:00</td><td class="tr">ヨーロピアンラウンジ広尾（婚活パーティ）</td>','<td class="tl irel">7/16 / Sun / 13:35</td><td class="tr">アキバ・スクエア</td>','<td class="tl irel">7/16 / Sun / 22:30</td><td class="tr">青山一丁目　駅周辺</td>']},{age:"50代",sex:"男性",color:"#9400D3",stage1:['<td class="tl ipc">7/3 / Mon / 8:18</td><td class="tr">http://info.finance.yahoo.co.jp/kabuyoso/</td>','<td class="tl ipc">7/3 / Mon / 23:51</td><td class="tr">老人ホーム　福井　人気</td>','<td class="tl isp">7/4 / Tue / 20:11</td><td class="tr">足腰　痛い　悩み</td>','<td class="tl ipc">7/4 / Tue / 23:11</td><td class="tr">宅配　健康食品　福井</td>','<td class="tl isp">7/5 / Wed / 7:49</td><td class="tr">http://info.finance.yahoo.co.jp/fx/</td>','<td class="tl ipc">7/5 / Wed / 22:15</td><td class="tr">三重　ゴルフ場  人気</td>','<td class="tl ipc">7/5 / Wed / 23:48</td><td class="tr">介護老人ホーム　福井</td>','<td class="tl isp">7/6 / Thu / 7:43</td><td class="tr">老後　趣味</td>','<td class="tl isp">7/7 / Fri / 7:35</td><td class="tr">http://www.nikkei.com/</td>','<td class="tl isp">7/8 / Sat / 14:30</td><td class="tr">ゴルフ　クラブフルセット</td>','<td class="tl ipc">7/9 / Sun / 12:15</td><td class="tr">運転免許書　更新忘れ</td>','<td class="tl isp">7/9 / Sun / 20:15</td><td class="tr">http://minkabu.jp/</td>'],stage2:['<td class="tl ishop">7/3 / Mon / 7:20</td><td class="tr">日経新聞（LAWSON）</td>','<td class="tl ishop">7/5 / Wed / 21:15</td><td class="tr">マロンデュッセ×3　 ティラミス×3（ボアールドジュネス梅田店）</td>','<td class="tl ishop">7/6 / Thu / 23:17</td><td class="tr">寿司処　新門　別館　離宮</td>','<td class="tl ishop">7/7 / Fri / 8:15</td><td class="tr">日経新聞  ハワイアンドーナツ　ブルガリアドーナツ（LAWSON）</td>','<td class="tl ishop">7/8 / Sat / 10:13</td><td class="tr">雑誌：ALBA　本：人間60歳からが一番おもしろい！(てんぐ書店）</td>','<td class="tl ishop">7/8 / Sat / 14:15</td><td class="tr">寝具（西川布団)</td>','<td class="tl ishop">7/8 / Sat / 15:00</td><td class="tr">キャットフード（ひごペットフレンドリー）</td>','<td class="tl ishop">7/8 / Sat / 15:20</td><td class="tr">ゴルフクラブ　2本　（つるやゴルフ）</td>','<td class="tl ishop">7/9 / Sun / 18:38</td><td class="tr">エジプト旅行　申し込み（JTB）</td>'],stage3:['<td class="tl irel">7/10 / Mon / 6:50</td><td class="tr">吹田駅　周辺</td>','<td class="tl irel">7/10 / Mon / 13:00</td><td class="tr">淀屋橋</td>','<td class="tl irel">7/12 / Wed / 14:00</td><td class="tr">淀屋橋</td>','<td class="tl irel">7/12 / Wed / 16:00</td><td class="tr">淀屋橋</td>','<td class="tl irel">7/12 / Wed / 20:30</td><td class="tr">天満酒蔵</td>','<td class="tl irel">7/15 / Sat / 8:00</td><td class="tr">吹田駅　周辺</td>','<td class="tl irel">7/15 / Sat / 13:00</td><td class="tr">ららぽーとエキスポシティ</td>','<td class="tl irel">7/15 / Sat / 20:00</td><td class="tr">堂島ホテル</td>','<td class="tl irel">7/16 / Sun / 15:35</td><td class="tr">万博記念公園</td>','<td class="tl irel">7/16 / Sun / 22:30</td><td class="tr">吹田駅　周辺</td>']}];